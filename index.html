<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CS Sound Visualizer â€” Prototype (Light Mode)</title>
  <style>
    :root{
      --bg:#f9fafb;
      --accent:#0ea5e9;
      --glass: rgba(0,0,0,0.05);
      --shadow: rgba(0,0,0,0.1);
    }
    html,body{
      height:100%;
      margin:0;
      background:radial-gradient(ellipse at center,var(--bg) 0%, #e5e7eb 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      color:#111827;
      font-family:sans-serif;
    }

    .stage{position:relative;width:100vw;height:100vh;overflow:hidden;}

    .crosshair-simple {
      position:absolute;
      top:50%;
      left:50%;
      width:50vw;
      height:50vh;
      transform:translate(-50%,-50%);
    }
    .crosshair-simple::before,
    .crosshair-simple::after {
      content:'';
      position:absolute;
      background:var(--accent);
      opacity:0.8;
    }
    .crosshair-simple::before {
      width:100%;
      height:4px;
      top:50%;
      left:0;
      transform:translateY(-50%);
    }
    .crosshair-simple::after {
      width:4px;
      height:100%;
      left:50%;
      top:0;
      transform:translateX(-50%);
    }

    .icon {
      position:absolute;
      transform:translate(-50%,-50%) scale(1);
      opacity:0;
      transition:opacity 700ms ease;
    }
    .icon.show {
      opacity:1;
    }
    .icon.fadeout {
      opacity:0;
    }

    .icon .badge {
      backdrop-filter: blur(6px);
      background:var(--glass);
      padding:8px;
      border-radius:10px;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 4px 12px var(--shadow);
      border:1px solid rgba(0,0,0,0.05);
    }
    .icon svg{width:28px;height:28px;color:#111827}

    .type-gunshot .badge{border-left:4px solid #ef4444}
    .type-footsteps .badge{border-left:4px solid #3b82f6}
    .type-door .badge{border-left:4px solid #f59e0b}
    .type-reload .badge{border-left:4px solid #10b981}
  </style>
</head>
<body>
  <div class="stage" id="stage">
    <div class="crosshair-simple"></div>
    <div id="icons-root" style="position:absolute;inset:0;"></div>
  </div>

  <script>
    const stage = document.getElementById('stage');
    const root = document.getElementById('icons-root');

    const ICONS = {
      footsteps: `<svg viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.6' stroke-linecap='round' stroke-linejoin='round'><path d='M4.5 12a3.5 3.5 0 0 0 7 0'/><path d='M6 8.5a2.5 2.5 0 0 1 5 0'/></svg>`,
      gunshot: `<svg viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.6' stroke-linecap='round' stroke-linejoin='round'><path d='M2 12h6l2 4h4l2-8h-6'/><path d='M13 6l3-3'/></svg>`,
      door: `<svg viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.6' stroke-linecap='round' stroke-linejoin='round'><rect x='3' y='3' width='18' height='18' rx='2'/><path d='M12 3v18'/></svg>`,
      reload: `<svg viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.6' stroke-linecap='round' stroke-linejoin='round'><path d='M21 12a9 9 0 1 1-3-6.7'/><path d='M21 3v6h-6'/></svg>`
    };

    function spawnIcon(){
      const types=['footsteps','gunshot','door','reload'];
      const type = types[Math.floor(Math.random()*types.length)];
      const stageRect = stage.getBoundingClientRect();
      const x = Math.random() * stageRect.width;
      const y = Math.random() * stageRect.height;
      const el = document.createElement('div');
      el.className = `icon type-${type}`;
      el.style.left = x + 'px';
      el.style.top = y + 'px';
      el.innerHTML = `<div class='badge'>${ICONS[type]}</div>`;
      root.appendChild(el);

      // Fade in
      requestAnimationFrame(()=>el.classList.add('show'));

      // Random smooth 2D motion with faster, wiggly movement
      let vx = (Math.random() - 0.5) * 200;
      let vy = (Math.random() - 0.5) * 200;
      let posX = x;
      let posY = y;
      const lifespan = 3000; // increased lifespan to 3 seconds
      let startTime = null;

      function animate(time){
        if(!startTime) startTime = time;
        const dt = time - startTime;
        const progress = dt / lifespan;
        if(progress < 1){
          vx += (Math.random() - 0.5) * 20;
          vy += (Math.random() - 0.5) * 20;
          posX += vx * 0.016;
          posY += vy * 0.016;
          el.style.transform = `translate(calc(-50% + ${posX - x}px), calc(-50% + ${posY - y}px)) scale(1)`;
          requestAnimationFrame(animate);
        }
      }
      requestAnimationFrame(animate);

      // Fade out after lifespan
      setTimeout(()=>{
        el.classList.remove('show');
        el.classList.add('fadeout');
        setTimeout(()=>el.remove(),700);
      },lifespan);
    }

    function loopSpawn(){
      const delay = 1000 + Math.random()*4000;
      spawnIcon();
      setTimeout(loopSpawn, delay);
    }

    loopSpawn();
  </script>
</body>
</html>
